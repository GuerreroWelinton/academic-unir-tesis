@if (label()) {
  <label class="zg-input__label" [attr.for]="inputId">
    {{ label() }}
  </label>
}
<div class="zg-input__wrapper">
  <span class="zg-input__icon zg-input__icon--left">
    <ng-content select="[icon-left]"></ng-content>
  </span>
  <input
    class="zg-input__field"
    [id]="inputId"
    [type]="type()"
    [attr.placeholder]="placeholder()"
    [attr.disabled]="disabled() ? true : null"
    [attr.readonly]="readonly() ? true : null"
    [attr.autocomplete]="autocomplete() || null"
    [attr.maxlength]="maxlength() || null"
    [value]="value()"
    (input)="onInput($event)"
    (focus)="onFocus($event)"
    (blur)="onBlur($event)"
    [attr.aria-invalid]="error() ? 'true' : null"
    [attr.aria-describedby]="describedBy()"
  />
  <span class="zg-input__icon zg-input__icon--right">
    <ng-content select="[icon-right]"></ng-content>
  </span>
  @if (!readonly() && !disabled() && value()) {
    <button type="button" class="zg-input__clear" (click)="onClear()" aria-label="Clear input">
      <span class="zg-input__clear-icon-slot">
        <ng-content select="[clear-icon]"></ng-content>
      </span>
      <span class="zg-input__clear-icon-fallback" aria-hidden="true">&times;</span>
    </button>
  }
</div>
@if (error()) {
  <div [id]="errorId" class="zg-input__error">{{ error() }}</div>
}
@if (!error() && helperText()) {
  <div [id]="helperId" class="zg-input__helper">{{ helperText() }}</div>
}
